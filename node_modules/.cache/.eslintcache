[{"C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\index.js":"1","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\App.js":"2","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\reportWebVitals.js":"3","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Home.js":"4","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Video\\VideoInput.js":"5","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Photo\\Photo.js":"6","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\api\\face.js":"7","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Loading\\Loading.js":"8"},{"size":490,"mtime":1692198851267,"results":"9","hashOfConfig":"10"},{"size":557,"mtime":1692254831392,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":537,"mtime":1696214251085,"results":"13","hashOfConfig":"10"},{"size":4541,"mtime":1696212772003,"results":"14","hashOfConfig":"10"},{"size":4389,"mtime":1696212512960,"results":"15","hashOfConfig":"10"},{"size":1659,"mtime":1696210831370,"results":"16","hashOfConfig":"10"},{"size":255,"mtime":1696211672022,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"9ae3o8",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\index.js",[],[],"C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\App.js",["46"],[],"import logo from './logo.svg';\nimport './App.css';\nimport Home from \"./Home.js\"\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Photo from './Photo/Photo';\nimport Video from './Video/VideoInput';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n          <Routes>\n            <Route path=\"/\" element={<Home/>}/>\n            <Route path=\"/photo\" element={<Photo/>}/>\n            <Route path=\"/video\" element={<Video/>}/> \n          </Routes>\n        </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\reportWebVitals.js",[],[],"C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Home.js",["47"],[],"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Home.scss\"\r\nfunction Home(props) {\r\n  return (\r\n    <div>\r\n      <div className=\"face-authentication flex fdc jcfc aic\">\r\n        <img src=\"logo.jpg\"></img>\r\n        <button className=\"action face-registration\">\r\n          <Link to=\"/photo\">Photo Input</Link>\r\n        </button>\r\n        <button className=\"action face-sign-in\">\r\n          <Link to=\"/video\">Video Camera</Link>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Video\\VideoInput.js",["48","49","50"],[],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport { loadModels, getFullFaceDescription, createMatcher } from \"../api/face\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Video.scss\";\r\nimport Loading from \"../Loading/Loading\";\r\n\r\nconst JSON_PROFILE = require(\"../descriptors/bnk48.json\");\r\nconst WIDTH = 420;\r\nconst HEIGHT = 420;\r\nconst inputSize = 160;\r\n\r\nconst VideoInput = () => {\r\n  const webcamRef = useRef(null);\r\n  const [fullDesc, setFullDesc] = useState(null);\r\n  const [detections, setDetections] = useState(null);\r\n  const [descriptors, setDescriptors] = useState(null);\r\n  const [faceMatcher, setFaceMatcher] = useState(null);\r\n  const [match, setMatch] = useState(null);\r\n  const [facingMode, setFacingMode] = useState(null);\r\n  let interval;\r\n  useEffect(() => {\r\n    const initialize = async () => {\r\n      await loadModels();\r\n      setFaceMatcher(await createMatcher(JSON_PROFILE));\r\n      setInputDevice();\r\n    };\r\n    initialize();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    startCapture();\r\n    return () => clearInterval(interval);\r\n  }, [facingMode]);\r\n\r\n  const setInputDevice = () => {\r\n    navigator.mediaDevices.enumerateDevices().then(async (devices) => {\r\n      const inputDevice = await devices.filter(\r\n        (device) => device.kind === \"videoinput\"\r\n      );\r\n      if (inputDevice.length < 2) {\r\n        setFacingMode(\"user\");\r\n      } else {\r\n        setFacingMode({ exact: \"environment\" });\r\n      }\r\n    });\r\n  };\r\n\r\n  const startCapture = () => {\r\n    interval = setInterval(() => {\r\n      capture();\r\n    }, 3000);\r\n  };\r\n\r\n  const capture = async () => {\r\n    if (webcamRef.current) {\r\n      const screenshot = webcamRef.current.getScreenshot();\r\n      const fullFaceDesc = await getFullFaceDescription(screenshot, inputSize);\r\n\r\n      if (fullFaceDesc) {\r\n        setDetections(fullFaceDesc.map((fd) => fd.detection));\r\n        setDescriptors(fullFaceDesc.map((fd) => fd.descriptor));\r\n      }\r\n\r\n      if (descriptors && faceMatcher) {\r\n        const matchResults = descriptors.map((descriptor) =>\r\n          faceMatcher.findBestMatch(descriptor)\r\n        );\r\n        setMatch(matchResults);\r\n      }\r\n    }\r\n  };\r\n\r\n  let videoConstraints = null;\r\n  let camera = \"\";\r\n\r\n  if (facingMode) {\r\n    videoConstraints = {\r\n      width: WIDTH,\r\n      height: HEIGHT,\r\n      facingMode: facingMode,\r\n    };\r\n    camera = facingMode === \"user\" ? \"Front\" : \"Back\";\r\n  }\r\n\r\n  let drawBox = null;\r\n\r\n  if (detections) {\r\n    drawBox = detections.map((detection, i) => {\r\n      const _H = detection.box.height;\r\n      const _W = detection.box.width;\r\n      const _X = detection.box._x;\r\n      const _Y = detection.box._y;\r\n\r\n      return (\r\n        <div key={i}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              border: \"solid\",\r\n              borderColor: \"blue\",\r\n              height: _H,\r\n              width: _W,\r\n              transform: `translate(${_X}px,${_Y}px)`,\r\n            }}\r\n          >\r\n            {match && match[i] ? (\r\n              <p\r\n                style={{\r\n                  backgroundColor: \"blue\",\r\n                  border: \"solid\",\r\n                  borderColor: \"blue\",\r\n                  width: _W,\r\n                  marginTop: 0,\r\n                  color: \"#fff\",\r\n                  transform: `translate(-3px,${_H}px)`,\r\n                }}\r\n              >\r\n                {match[i]._label}\r\n              </p>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"Camera\"\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <p>Camera: {camera}</p>\r\n      <div\r\n        style={{\r\n          width: WIDTH,\r\n          height: HEIGHT,\r\n        }}\r\n      >\r\n        <div style={{ position: \"relative\", width: WIDTH }}>\r\n          {videoConstraints ? (\r\n            <div style={{ position: \"absolute\" }}>\r\n              <Webcam\r\n                audio={false}\r\n                width={WIDTH}\r\n                height={HEIGHT}\r\n                ref={webcamRef}\r\n                screenshotFormat=\"image/jpeg\"\r\n                videoConstraints={videoConstraints}\r\n              />\r\n            </div>\r\n          ) : <Loading/>}\r\n          {drawBox ? drawBox : null}\r\n        </div>\r\n      </div>\r\n      <div className=\"go-to-home\">\r\n        <Link to=\"/\">Go to Home!</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoInput;\r\n","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Photo\\Photo.js",["51","52","53","54"],[],"import React, { useState, useEffect } from \"react\";\r\nimport { loadModels, getFullFaceDescription, createMatcher } from \"../api/face\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Photo.scss\";\r\nimport Loading from \"../Loading/Loading\";\r\n\r\nconst testImg = require(\"../img/anhthe.png\");\r\nconst JSON_PROFILE = require(\"../descriptors/bnk48.json\");\r\nconst INIT_STATE = {\r\n  imageURL: testImg,\r\n  fullDesc: null,\r\n  detections: null,\r\n  descriptors: null,\r\n  match: null,\r\n};\r\n\r\nfunction Photo(props) {\r\n  const [state, setState] = useState({\r\n    ...INIT_STATE,\r\n    faceMatcher: null,\r\n    loading: false,\r\n  });\r\n  let temp = INIT_STATE;\r\n\r\n  useEffect(() => {\r\n    initialize();\r\n  }, temp.imageURL);\r\n\r\n  async function initialize() {\r\n    await loadModels();\r\n    const faceMatcher = await createMatcher(JSON_PROFILE);\r\n    temp = {\r\n      imageURL: temp.imageURL,\r\n      fullDesc: temp.fullDesc,\r\n      detections: temp.detections,\r\n      descriptors: temp.descriptor,\r\n      match: temp.match,\r\n      faceMatcher: faceMatcher,\r\n      loading: true,\r\n    };\r\n\r\n    await handleImage(temp.imageURL);\r\n  }\r\n\r\n  async function handleImage(image = temp.imageURL) {\r\n    const fullDesc = await getFullFaceDescription(image);\r\n    const faceMatcher = await createMatcher(JSON_PROFILE);\r\n\r\n    if (fullDesc && fullDesc.length > 0) {\r\n      temp = {\r\n        imageURL: temp.imageURL,\r\n        fullDesc: fullDesc,\r\n        detections: fullDesc.map((fd) => fd.detection),\r\n        descriptors: fullDesc.map((fd) => fd.descriptor),\r\n        match: temp.match,\r\n        faceMatcher: faceMatcher,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    if (!!temp.descriptors && !!temp.faceMatcher) {\r\n      const match = await temp.descriptors.map((descriptor) =>\r\n        temp.faceMatcher.findBestMatch(descriptor)\r\n      );\r\n\r\n      temp = {\r\n        imageURL: temp.imageURL,\r\n        fullDesc: fullDesc,\r\n        detections: fullDesc.map((fd) => fd.detection),\r\n        descriptors: fullDesc.map((fd) => fd.descriptor),\r\n        match: temp.match,\r\n        faceMatcher: faceMatcher,\r\n        match: match,\r\n        loading: true,\r\n      };\r\n      setState(temp);\r\n    }\r\n  }\r\n\r\n  async function handleFileChange(event) {\r\n    resetState();\r\n    const imageURL = URL.createObjectURL(event.target.files[0]);\r\n    temp = {\r\n      imageURL: imageURL,\r\n      loading: false,\r\n    };\r\n\r\n    setState(temp);\r\n\r\n    handleImage();\r\n  }\r\n\r\n  function resetState() {\r\n    temp = { INIT_STATE };\r\n  }\r\n\r\n  const { imageURL, detections, match } = state;\r\n\r\n  let drawBox = null;\r\n  if (detections && detections.length > 0) {\r\n    drawBox = detections.map((detection, i) => {\r\n      const _H = detection.box.height;\r\n      const _W = detection.box.width;\r\n      const _X = detection.box._x;\r\n      const _Y = detection.box._y;\r\n\r\n      return (\r\n        <div key={i}>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              border: \"solid\",\r\n              borderColor: \"blue\",\r\n              height: _H,\r\n              width: _W,\r\n              transform: `translate(${_X}px,${_Y}px)`,\r\n            }}\r\n          >\r\n            {match && match[i] ? (\r\n              <p\r\n                style={{\r\n                  backgroundColor: \"blue\",\r\n                  border: \"solid\",\r\n                  borderColor: \"blue\",\r\n                  width: _W,\r\n                  marginTop: 0,\r\n                  color: \"#fff\",\r\n                  transform: `translate(-3px,${_H}px)`,\r\n                }}\r\n              >\r\n                {match[i]._label}\r\n              </p>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  console.log(state);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"go-to-home\">\r\n        <Link to=\"/\">Go to Home!</Link>\r\n      </div>\r\n      <input\r\n        id=\"myFileUpload\"\r\n        type=\"file\"\r\n        onChange={handleFileChange}\r\n        accept=\".jpg, .jpeg, .png\"\r\n      />\r\n      <div className=\"Loading\">\r\n        <div style={{ position: \"relative\" }}>\r\n          <div style={{ position: \"absolute\" }}>\r\n            {state.loading === true ? (\r\n              <img src={state.imageURL} alt=\"imageURL\" />\r\n            ) : (\r\n              <Loading />\r\n            )}\r\n          </div>\r\n          {drawBox ? drawBox : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Photo;\r\n","C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\api\\face.js",[],[],"C:\\Users\\quang\\OneDrive\\Desktop\\TestProject\\my-app\\src\\Loading\\Loading.js",[],[],{"ruleId":"55","severity":1,"message":"56","line":1,"column":8,"nodeType":"57","messageId":"58","endLine":1,"endColumn":12},{"ruleId":"59","severity":1,"message":"60","line":8,"column":9,"nodeType":"61","endLine":8,"endColumn":29},{"ruleId":"55","severity":1,"message":"62","line":15,"column":10,"nodeType":"57","messageId":"58","endLine":15,"endColumn":18},{"ruleId":"55","severity":1,"message":"63","line":15,"column":20,"nodeType":"57","messageId":"58","endLine":15,"endColumn":31},{"ruleId":"64","severity":1,"message":"65","line":34,"column":6,"nodeType":"66","endLine":34,"endColumn":18,"suggestions":"67"},{"ruleId":"64","severity":1,"message":"68","line":27,"column":6,"nodeType":"69","endLine":27,"endColumn":19},{"ruleId":"64","severity":1,"message":"70","line":27,"column":6,"nodeType":"69","endLine":27,"endColumn":19,"suggestions":"71"},{"ruleId":"72","severity":1,"message":"73","line":73,"column":9,"nodeType":"74","messageId":"75","endLine":73,"endColumn":14},{"ruleId":"55","severity":1,"message":"76","line":97,"column":11,"nodeType":"57","messageId":"58","endLine":97,"endColumn":19},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'fullDesc' is assigned a value but never used.","'setFullDesc' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'interval' and 'startCapture'. Either include them or remove the dependency array.","ArrayExpression",["77"],"React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","MemberExpression","React Hook useEffect has a missing dependency: 'initialize'. Either include it or remove the dependency array.",["78"],"no-dupe-keys","Duplicate key 'match'.","ObjectExpression","unexpected","'imageURL' is assigned a value but never used.",{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [facingMode, interval, startCapture]",{"range":"83","text":"84"},"Update the dependencies array to be: [initialize]",{"range":"85","text":"86"},[1116,1128],"[facingMode, interval, startCapture]",[691,704],"[initialize]"]